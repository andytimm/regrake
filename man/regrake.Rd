% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/regrake.R
\name{regrake}
\alias{regrake}
\title{Optimal representative sample weighting}
\usage{
regrake(
  data,
  formula,
  population_data,
  pop_type = c("raw", "weighted", "proportions", "anesrake", "survey", "survey_design"),
  pop_weights = NULL,
  regularizer = "entropy",
  lambda = 1,
  k = NULL,
  bounds = c(0.1, 10),
  normalize = TRUE,
  control = list(),
  verbose = FALSE,
  ...
)
}
\arguments{
\item{data}{A data.frame or tibble containing the sample data}

\item{formula}{A formula specifying the raking constraints using exact() and l2() terms}

\item{population_data}{A data.frame containing population data, or pre-computed target proportions}

\item{pop_type}{How population data is specified:
\itemize{
\item "raw": Raw population data (one row per unit)
\item "weighted": Population data with weights column
\item "proportions": Direct specification of target proportions (variable, level, target columns)
\item "anesrake": List of named numeric vectors (anesrake package format)
\item "survey": Data frame with margin, category, value columns
\item "survey_design": survey package design object
}}

\item{pop_weights}{Column name in population_data containing weights (if pop_type = "weighted")}

\item{regularizer}{Regularization method ("entropy", "zero", "kl", or "boolean")}

\item{lambda}{Regularization strength (default = 1)}

\item{k}{Number of samples to select (required for regularizer = "boolean")}

\item{bounds}{Numeric vector of length 2 specifying (min, max) allowed weight values}

\item{normalize}{Logical. If TRUE (default), continuous variables are automatically
scaled by their target value for numerical stability. The achieved values are
reported in original units. Set to FALSE to disable this behavior.}

\item{control}{List of control parameters for the solver}

\item{verbose}{Whether to print progress information}

\item{...}{Additional arguments passed to methods}
}
\value{
A list containing:
\item{weights}{The optimal weights}
\item{achieved}{The achieved margins}
\item{solution}{Full solution details from solver}
}
\description{
Optimal representative sample weighting
}
