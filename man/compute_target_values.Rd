% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_target_values.R
\name{compute_target_values}
\alias{compute_target_values}
\title{Compute target values from population data}
\usage{
compute_target_values(
  population_data,
  formula_spec,
  pop_type = "proportions",
  pop_weights = NULL
)
}
\arguments{
\item{population_data}{A data.frame in autumn format with columns:
\itemize{
\item variable: The variable name
\item level: The level within the variable (or statistic name for continuous)
\item target: The target value (proportion for categorical, value for continuous)
For interactions, specify joint distributions by combining variable names with ":"
e.g., "race:age" for a race by age interaction.
}}

\item{formula_spec}{A parsed raking formula specification from parse_raking_formula}

\item{pop_type}{How population data is specified ("proportions", "raw", "weighted",
"anesrake", "survey", or "survey_design")}

\item{pop_weights}{Column name in population_data containing weights (if pop_type = "weighted")}
}
\value{
A list containing:
\itemize{
\item targets: Named list of target values for each formula term
\item variables: Vector of all variables in the data
}
}
\description{
Main function for computing raking target values.
Takes population data and a formula specification,
returns target values for each term.
}
\section{Workflow}{

\enumerate{
\item Convert population data to autumn format
\item Validate data structure and types
\item Check for duplicates and validate targets
\item Process each formula term:
\itemize{
\item Main effects: Extract directly
\item Interactions: Use joint distribution or compute from marginals
}
}
}

\keyword{internal}
